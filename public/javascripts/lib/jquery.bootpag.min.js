!function(o,J){void 0===J&&s("Pagination requires jQuery.");var n="pagination",r="__pagination-";J.fn.pagination&&(n="pagination2"),J.fn[n]=function(a){if(void 0===a)return this;var t,d=J(this),D=J.extend({},J.fn[n].defaults,a),e={initialize:function(){var t=this;if(d.data("pagination")||d.data("pagination",{}),!1!==t.callHook("beforeInit")){d.data("pagination").initialized&&J(".paginationjs",d).remove(),t.disabled=!!D.disabled;var i=t.model={pageRange:D.pageRange,pageSize:D.pageSize};t.parseDataSource(D.dataSource,function(a){if(t.isAsync=f.isString(a),f.isArray(a)&&(i.totalNumber=D.totalNumber=a.length),t.isDynamicTotalNumber=t.isAsync&&D.totalNumberLocator,!(D.hideWhenLessThanOnePage&&t.getTotalPage()<=1)){var e=t.render(!0);D.className&&e.addClass(D.className),i.el=e,d["bottom"===D.position?"append":"prepend"](e),t.observer(),d.data("pagination").initialized=!0,t.callHook("afterInit",e)}})}},render:function(a){var e=this,t=e.model,i=t.el||J('<div class="paginationjs"></div>'),o=!0!==a;e.callHook("beforeRender",o);var n=t.pageNumber||D.pageNumber,r=D.pageRange,s=e.getTotalPage(),l=n-r,u=n+r;return s<u&&(l=(l=(u=s)-2*r)<1?1:l),l<=1&&(l=1,u=Math.min(2*r+1,s)),i.html(e.generateHTML({currentPage:n,pageRange:r,rangeStart:l,rangeEnd:u})),e.callHook("afterRender",o),i},generateHTML:function(a){var e,t=this,i=a.currentPage,o=t.getTotalPage(),n=a.rangeStart,r=a.rangeEnd,s=t.getTotalNumber(),l=D.showPrevious,u=D.showNext,c=D.showPageNumbers,g=D.showNavigator,p=D.showGoInput,d=D.showGoButton,f=D.pageLink,m=D.prevText,b=D.nextText,h=D.ellipsisText,v=D.goButtonText,N=D.classPrefix,y=D.activeClassName,k=D.disableClassName,P=D.ulClassName,x="",j='<input type="text" class="J-paginationjs-go-pagenumber">',S='<input type="button" class="J-paginationjs-go-button" value="'+v+'">',w=J.isFunction(D.formatNavigator)?D.formatNavigator(i,o,s):D.formatNavigator,T=J.isFunction(D.formatGoInput)?D.formatGoInput(j,i,o,s):D.formatGoInput,H=J.isFunction(D.formatGoButton)?D.formatGoButton(S,i,o,s):D.formatGoButton,F=J.isFunction(D.autoHidePrevious)?D.autoHidePrevious():D.autoHidePrevious,C=J.isFunction(D.autoHideNext)?D.autoHideNext():D.autoHideNext,O=J.isFunction(D.menu)?D.menu(i,o,s):D.menu,L=J.isFunction(D.footer)?D.footer(i,o,s):D.footer;if(O&&(x+=t.replaceVariables(O,{currentPage:i,totalPage:o,totalNumber:s})),l||c||u){if(x+='<div class="paginationjs-pages">',x+=P?'<ul class="'+P+'">':"<ul>",l&&(i<=1?F||(x+='<li class="'+N+"-prev "+k+'"><a>'+m+"</a></li>"):x+='<li class="'+N+'-prev J-paginationjs-previous" data-num="'+(i-1)+'" title="Previous page"><a href="'+f+'">'+m+"</a></li>"),c){if(n<=3)for(e=1; e<n; e++)x+=e==i?'<li class="'+N+"-page J-paginationjs-page "+y+'" data-num="'+e+'"><a>'+e+"</a></li>":'<li class="'+N+'-page J-paginationjs-page" data-num="'+e+'"><a href="'+f+'">'+e+"</a></li>";else D.showFirstOnEllipsisShow&&(x+='<li class="'+N+"-page "+N+'-first J-paginationjs-page" data-num="1"><a href="'+f+'">1</a></li>'),x+='<li class="'+N+"-ellipsis "+k+'"><a>'+h+"</a></li>";for(e=n;e<=r;e++)x+=e==i?'<li class="'+N+"-page J-paginationjs-page "+y+'" data-num="'+e+'"><a>'+e+"</a></li>":'<li class="'+N+'-page J-paginationjs-page" data-num="'+e+'"><a href="'+f+'">'+e+"</a></li>";if(o-2<=r)for(e=r+1;e<=o;e++)x+='<li class="'+N+'-page J-paginationjs-page" data-num="'+e+'"><a href="'+f+'">'+e+"</a></li>";else x+='<li class="'+N+"-ellipsis "+k+'"><a>'+h+"</a></li>",D.showLastOnEllipsisShow&&(x+='<li class="'+N+"-page "+N+'-last J-paginationjs-page" data-num="'+o+'"><a href="'+f+'">'+o+"</a></li>")}u&&(o<=i?C||(x+='<li class="'+N+"-next "+k+'"><a>'+b+"</a></li>"):x+='<li class="'+N+'-next J-paginationjs-next" data-num="'+(i+1)+'" title="Next page"><a href="'+f+'">'+b+"</a></li>"),x+="</ul></div>"}return g&&w&&(x+='<div class="'+N+'-nav J-paginationjs-nav">'+t.replaceVariables(w,{currentPage:i,totalPage:o,totalNumber:s})+"</div>"),p&&T&&(x+='<div class="'+N+'-go-input">'+t.replaceVariables(T,{currentPage:i,totalPage:o,totalNumber:s,input:j})+"</div>"),d&&H&&(x+='<div class="'+N+'-go-button">'+t.replaceVariables(H,{currentPage:i,totalPage:o,totalNumber:s,button:S})+"</div>"),L&&(x+=t.replaceVariables(L,{currentPage:i,totalPage:o,totalNumber:s})),x},findTotalNumberFromRemoteResponse:function(a){this.model.totalNumber=D.totalNumberLocator(a)},go:function(a,t){var i=this,o=i.model;if(!i.disabled){var n=a;if((n=parseInt(n))&&!(n<1)){var e=D.pageSize,r=i.getTotalNumber(),s=i.getTotalPage();if(!(0<r&&s<n))if(i.isAsync){var l={},u=D.alias||{};l[u.pageSize?u.pageSize:"pageSize"]=e,l[u.pageNumber?u.pageNumber:"pageNumber"]=n;var c=J.isFunction(D.ajax)?D.ajax():{},g={type:"get",cache:!1,data:{},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",async:!0};J.extend(!0,g,c),J.extend(g.data,l),g.url=D.dataSource,g.success=function(a){i.isDynamicTotalNumber?i.findTotalNumberFromRemoteResponse(a):i.model.totalNumber=D.totalNumber,p(i.filterDataByLocator(a))},g.error=function(a,e,t){D.formatAjaxError&&D.formatAjaxError(a,e,t),i.enable()},i.disable(),J.ajax(g)}else p(i.getDataFragment(n))}}function p(a){if(!1===i.callHook("beforePaging",n))return!1;if(o.direction=void 0===o.pageNumber?0:n>o.pageNumber?1:-1,o.pageNumber=n,i.render(),i.disabled&&i.isAsync&&i.enable(),d.data("pagination").model=o,D.formatResult){var e=J.extend(!0,[],a);f.isArray(a=D.formatResult(e))||(a=e)}d.data("pagination").currentPageData=a,i.doCallback(a,t),i.callHook("afterPaging",n),1==n&&i.callHook("afterIsFirstPage"),n==i.getTotalPage()&&i.callHook("afterIsLastPage")}},doCallback:function(a,e){var t=this.model;J.isFunction(e)?e(a,t):J.isFunction(D.callback)&&D.callback(a,t)},destroy:function(){!1!==this.callHook("beforeDestroy")&&(this.model.el.remove(),d.off(),J("#paginationjs-style").remove(),this.callHook("afterDestroy"))},previous:function(a){this.go(this.model.pageNumber-1,a)},next:function(a){this.go(this.model.pageNumber+1,a)},disable:function(){var a=this,e=a.isAsync?"async":"sync";!1!==a.callHook("beforeDisable",e)&&(a.disabled=!0,a.model.disabled=!0,a.callHook("afterDisable",e))},enable:function(){var a=this,e=a.isAsync?"async":"sync";!1!==a.callHook("beforeEnable",e)&&(a.disabled=!1,a.model.disabled=!1,a.callHook("afterEnable",e))},refresh:function(a){this.go(this.model.pageNumber,a)},show:function(){this.model.el.is(":visible")||this.model.el.show()},hide:function(){this.model.el.is(":visible")&&this.model.el.hide()},replaceVariables:function(a,e){var t;for(var i in e){var o=e[i],n=new RegExp("<%=\\s*"+i+"\\s*%>","img");t=(t||a).replace(n,o)}return t},getDataFragment:function(a){var e=D.pageSize,t=D.dataSource,i=this.getTotalNumber(),o=e*(a-1)+1,n=Math.min(a*e,i);return t.slice(o-1,n)},getTotalNumber:function(){return this.model.totalNumber||D.totalNumber||0},getTotalPage:function(){return Math.ceil(this.getTotalNumber()/D.pageSize)},getLocator:function(a){var e;return"string"==typeof a?e=a:J.isFunction(a)?e=a():s('"locator" is incorrect. (String | Function)'),e},filterDataByLocator:function(t){var i,a=this.getLocator(D.locator);if(f.isObject(t)){try{J.each(a.split("."),function(a,e){i=(i||t)[e]})}catch(a){}i?f.isArray(i)||s("dataSource."+a+" must be an Array."):s("dataSource."+a+" is undefined.")}return i||t},parseDataSource:function(a,e){var t=this;f.isObject(a)?e(D.dataSource=t.filterDataByLocator(a)):f.isArray(a)?e(D.dataSource=a):J.isFunction(a)?D.dataSource(function(a){f.isArray(a)||s('The parameter of "done" Function should be an Array.'),t.parseDataSource.call(t,a,e)}):"string"==typeof a?(/^https?|file:/.test(a)&&(D.ajaxDataType="jsonp"),e(a)):s('Unexpected type of "dataSource".')},callHook:function(a){var t,e=d.data("pagination"),i=Array.prototype.slice.apply(arguments);return i.shift(),D[a]&&J.isFunction(D[a])&&!1===D[a].apply(o,i)&&(t=!1),e.hooks&&e.hooks[a]&&J.each(e.hooks[a],function(a,e){!1===e.apply(o,i)&&(t=!1)}),!1!==t},observer:function(){var i=this,t=i.model.el;d.on(r+"go",function(a,e,t){(e=parseInt(J.trim(e)))&&(J.isNumeric(e)||s('"pageNumber" is incorrect. (Number)'),i.go(e,t))}),t.delegate(".J-paginationjs-page","click",function(a){var e=J(a.currentTarget),t=J.trim(e.attr("data-num"));if(t&&!e.hasClass(D.disableClassName)&&!e.hasClass(D.activeClassName))return!1!==i.callHook("beforePageOnClick",a,t)&&(i.go(t),i.callHook("afterPageOnClick",a,t),!!D.pageLink&&void 0)}),t.delegate(".J-paginationjs-previous","click",function(a){var e=J(a.currentTarget),t=J.trim(e.attr("data-num"));if(t&&!e.hasClass(D.disableClassName))return!1!==i.callHook("beforePreviousOnClick",a,t)&&(i.go(t),i.callHook("afterPreviousOnClick",a,t),!!D.pageLink&&void 0)}),t.delegate(".J-paginationjs-next","click",function(a){var e=J(a.currentTarget),t=J.trim(e.attr("data-num"));if(t&&!e.hasClass(D.disableClassName))return!1!==i.callHook("beforeNextOnClick",a,t)&&(i.go(t),i.callHook("afterNextOnClick",a,t),!!D.pageLink&&void 0)}),t.delegate(".J-paginationjs-go-button","click",function(a){var e=J(".J-paginationjs-go-pagenumber",t).val();if(!1===i.callHook("beforeGoButtonOnClick",a,e))return!1;d.trigger(r+"go",e),i.callHook("afterGoButtonOnClick",a,e)}),t.delegate(".J-paginationjs-go-pagenumber","keyup",function(a){if(13===a.which){var e=J(a.currentTarget).val();if(!1===i.callHook("beforeGoInputOnEnter",a,e))return!1;d.trigger(r+"go",e),J(".J-paginationjs-go-pagenumber",t).focus(),i.callHook("afterGoInputOnEnter",a,e)}}),d.on(r+"previous",function(a,e){i.previous(e)}),d.on(r+"next",function(a,e){i.next(e)}),d.on(r+"disable",function(){i.disable()}),d.on(r+"enable",function(){i.enable()}),d.on(r+"refresh",function(a,e){i.refresh(e)}),d.on(r+"show",function(){i.show()}),d.on(r+"hide",function(){i.hide()}),d.on(r+"destroy",function(){i.destroy()});var a=Math.max(i.getTotalPage(),1),e=D.pageNumber;i.isDynamicTotalNumber&&(e=1),D.triggerPagingOnInit&&d.trigger(r+"go",Math.min(e,a))}};if(d.data("pagination")&&!0===d.data("pagination").initialized){if(J.isNumeric(a))return d.trigger.call(this,r+"go",a,arguments[1]),this;if("string"==typeof a){var i=Array.prototype.slice.apply(arguments);switch(i[0]=r+i[0],a){case"previous":case"next":case"go":case"disable":case"enable":case"refresh":case"show":case"hide":case"destroy":d.trigger.apply(this,i);break;case"getSelectedPageNum":return d.data("pagination").model?d.data("pagination").model.pageNumber:d.data("pagination").attributes.pageNumber;case"getTotalPage":return Math.ceil(d.data("pagination").model.totalNumber/d.data("pagination").model.pageSize);case"getSelectedPageData":return d.data("pagination").currentPageData;case"isDisabled":return!0===d.data("pagination").model.disabled;default:s("Unknown action: "+a)}return this}t=d,J.each(["go","previous","next","disable","enable","refresh","show","hide","destroy"],function(a,e){t.off(r+e)}),t.data("pagination",{}),J(".paginationjs",t).remove()}else f.isObject(a)||s("Illegal options");return function(a){a.dataSource||s('"dataSource" is required.');"string"==typeof a.dataSource?void 0===a.totalNumberLocator?void 0===a.totalNumber?s('"totalNumber" is required.'):J.isNumeric(a.totalNumber)||s('"totalNumber" is incorrect. (Number)'):J.isFunction(a.totalNumberLocator)||s('"totalNumberLocator" should be a Function.'):f.isObject(a.dataSource)&&(void 0===a.locator?s('"dataSource" is an Object, please specify "locator".'):"string"==typeof a.locator||J.isFunction(a.locator)||s(a.locator+" is incorrect. (String | Function)"));void 0===a.formatResult||J.isFunction(a.formatResult)||s('"formatResult" should be a Function.')}(D),e.initialize(),this},J.fn[n].defaults={totalNumber:0,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,pageLink:"",prevText:"&laquo;",nextText:"&raquo;",ellipsisText:"...",goButtonText:"Go",classPrefix:"paginationjs",activeClassName:"active",disableClassName:"disabled",inlineStyle:!0,formatNavigator:"<%= currentPage %> / <%= totalPage %>",formatGoInput:"<%= input %>",formatGoButton:"<%= button %>",position:"bottom",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}},J.fn.addHook=function(a,e){arguments.length<2&&s("Missing argument."),J.isFunction(e)||s("callback must be a function.");var t=J(this),i=t.data("pagination");i||(t.data("pagination",{}),i=t.data("pagination")),!i.hooks&&(i.hooks={}),i.hooks[a]=i.hooks[a]||[],i.hooks[a].push(e)},J[n]=function(a,e){var t;if(arguments.length<2&&s("Requires two parameters."),(t="string"!=typeof a&&a instanceof jQuery?a:J(a)).length)return t.pagination(e),t};var f={};function s(a){throw new Error("Pagination: "+a)}J.each(["Object","Array","String"],function(a,i){f["is"+i]=function(a){return("object"==(t=typeof(e=a))?null==e?"null":Object.prototype.toString.call(e).slice(8,-1):t).toLowerCase()===i.toLowerCase();var e,t}}),"function"==typeof define&&define.amd&&define(function(){return J})}(this,window.jQuery);